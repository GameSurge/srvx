# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--srvx@srvx.net--2004-srvx/srvx--devo--1.3
#

2004-10-16 21:14:11 GMT	Michael Poole <mdpoole@troilus.org>	patch-82

    Summary:
      Fix glob matching against IPs
    Revision:
      srvx--devo--1.3--patch-82

    Do not require the first character in an IP glob to be a digit.  If an
    IP-looking glob does not match, fall through to the other host matching
    rules, in case the IP-looking glob really matches their hostname.

    modified files:
     ChangeLog src/tools.c


2004-09-15 04:14:14 GMT	adam <adam@gamesurge.net>	patch-81

    Summary:
      Consolidate use_registered_mode into off_channel and expand overall functionality
    Revision:
      srvx--devo--1.3--patch-81

    * srvx.conf's off_channel setting now allows us to turn on all of the features of out-of-channel services without activating the
    channel setting to have chanserv part
    
    
    

    modified files:
     ChangeLog src/chanserv.c srvx.conf.example


2004-09-13 13:11:38 GMT	Michael Poole <mdpoole@troilus.org>	patch-80

    Summary:
      ChanServ bugfixes for +z and addbans in suspended channels
    Revision:
      srvx--devo--1.3--patch-80

    If ChanServ should use MODE_REGISTERED, update that when moving channels.
    
    Do not check for bans against an auth'ing user in suspended channels.
    
    Change the example entries for off_channel and use_registered_mode to
    make the enabled/on values more obvious.

    modified files:
     ChangeLog src/chanserv.c srvx.conf.example


2004-09-08 23:36:51 GMT	Michael Poole <mdpoole@troilus.org>	patch-79

    Summary:
      Implement item #1011114, #997053
    Revision:
      srvx--devo--1.3--patch-79

    * Adjust the default max_greetlen to 200 (since greetings are now
      unconditionally capped at one line of output).
    
    * Allow DNRs to be shown for accounts that currently do not exist.

    modified files:
     ChangeLog src/chanserv.c src/opserv.c srvx.conf.example


2004-09-06 13:35:59 GMT	Michael Poole <mdpoole@troilus.org>	patch-78

    Summary:
      Fix bugs; better handle oplevels from ircu2.10.12
    Revision:
      srvx--devo--1.3--patch-78

    * Fix order of port and IP in sample socks4 proxy test.
    
    * Fix a bug in dict_remove2() that corrupted the tree order if a
    cleanup function tried to delete another node.
    
    * Fix a buffer overflow in cmd_joiner.
    
    * Get rid of free_nick_info() since it is really just free().
    
    * If our P10 uplink sends an oplevel in a burst, treat it as a chanop.

    modified files:
     ChangeLog sockcheck.conf.example src/dict-splay.c src/modcmd.c
     src/nickserv.c src/proto-p10.c


2004-08-12 16:06:55 GMT	Zoot <zoot@gamesurge.net>	patch-77

    Summary:
      More title host checking
    Revision:
      srvx--devo--1.3--patch-77

     * src/nickserv.c: Make oset title verify that the final combined fakehost
       will not be truncated before storing the title. Also, supply a missing
       format string argument.

    modified files:
     ChangeLog src/nickserv.c


2004-08-08 17:42:01 GMT	Zoot <zoot@gamesurge.net>	patch-76

    Summary:
      Fix format string bug
    Revision:
      srvx--devo--1.3--patch-76

     * src/chanserv.c: Fix a format string bug in the myaccess command.

    modified files:
     ChangeLog src/chanserv.c


2004-08-02 12:54:13 GMT	Michael Poole <mdpoole@troilus.org>	patch-75

    Summary:
      Assorted bug fixes
    Revision:
      srvx--devo--1.3--patch-75

    * Add missing semicolon in German translation of CSMSG_TRANSFER_WAIT.
    
    * Fix pointer used in !trim max_access calculation.
    
    * Default to maximum line length for all "single-line" messages.
    
    * Return success from NickServ ounregister so it is logged properly.

    modified files:
     ChangeLog languages/de/strings.db src/chanserv.c
     src/helpfile.c src/nickserv.c


2004-07-22 04:03:22 GMT	Michael Poole <mdpoole@troilus.org>	patch-74

    Summary:
      Channel suspension, transfer and line wrap changes
    Revision:
      srvx--devo--1.3--patch-74

    * Treat half-unsuspended channels as unsuspended, to avoid crashes
    caused by sysadmins editing chanserv.db in screwy ways.
    
    * Add a srvx.conf option to limit how often channel owners can give
    away channel ownership.
    
    * Limit most output line expansions to just one line.
    
    * Remove unnecessary assert(hs_user) checks from mod-helpserv.c.
    
    * Don't run_empty_interval() in HelpServ when the user's server is
    still bursting.

    modified files:
     ChangeLog languages/de/strings.db src/chanserv.c
     src/chanserv.h src/helpfile.c src/helpfile.h
     src/mod-helpserv.c srvx.conf.example


2004-07-19 03:38:09 GMT	Michael Poole <mdpoole@troilus.org>	patch-73

    Summary:
      Bugfixes for !trim users, !unsuspend and /clearmodes
    Revision:
      srvx--devo--1.3--patch-73

    * Show actual upper bound used to trim users.
    
    * Update whether an user being unsuspended is in the channel.
    
    * Add a missing "break;" so that /clearmodes c doesn't clear NOCTCPS too.

    modified files:
     ChangeLog src/chanserv.c src/proto-p10.c


2004-07-12 19:06:38 GMT	Michael Poole <mdpoole@troilus.org>	patch-72

    Summary:
      add FAQ to distribition; make compatible with gcc-2.95
    Revision:
      srvx--devo--1.3--patch-72

    * Add FAQ to EXTRA_DIST in root.
    
    * Name the anonymous union inside struct mod_chanmode.
    
    * Typecast printf() field width arguments to int.

    modified files:
     ChangeLog Makefile.am src/chanserv.c src/hash.c
     src/mod-helpserv.c src/mod-snoop.c src/opserv.c
     src/proto-bahamut.c src/proto-common.c src/proto-p10.c
     src/proto.h


2004-07-10 04:42:12 GMT	Zoot <zoot@gamesurge.net>	patch-71

    Summary:
      Fix OperServ inviteme crash
    Revision:
      srvx--devo--1.3--patch-71

    * src/opserv.c: Fix a NULL pointer dereference in inviteme that caused crashes
      for some users.

    modified files:
     ChangeLog src/opserv.c


2004-07-01 02:23:21 GMT	Michael Poole <mdpoole@troilus.org>	patch-70

    Summary:
      miscellaneous bugfixes and indentation fixes
    Revision:
      srvx--devo--1.3--patch-70

    * srvx.conf.example: Clarify comment about "default_hostmask" setting.
    
    * patches/sethost13.diff: Forward port of sethost patch, from Reed Loden.
    
    * src/opserv.c (cmd_kickbanall): Free mod_chanmode_change after use.
    
    * src/proto-p10.c (cmd_whois): Fix indentation and show real server to opers.
    
    * src/tools.c (string_buffer_append_vprintf): Avoid a possible buffer overrun.

    new files:
     patches/.arch-ids/sethost13.diff.id patches/sethost13.diff

    modified files:
     ChangeLog INSTALL Makefile.am NEWS README compile configure.in
     depcomp docs/access-levels.txt docs/coding-style.txt
     docs/cookies.txt docs/helpserv.txt docs/ircd-modes.txt
     docs/malloc-compare.txt languages/.arch-inventory
     languages/de/README languages/de/chanserv.help
     languages/de/global.help languages/de/modcmd.help
     languages/de/nickserv.help languages/de/strings.db
     languages/en/README languages/en_UK/README
     languages/en_UK/chanserv.help languages/en_UK/opserv.help
     languages/en_UK/strings.db languages/validate.pl
     patches/helpserv-pgsql.diff sockcheck.conf.example
     src/Makefile.am src/chanserv.c src/chanserv.h
     src/chanserv.help src/common.h src/conf.c src/conf.h
     src/dict-splay.c src/gline.c src/gline.h src/global.c
     src/global.h src/global.help src/hash.c src/hash.h src/heap.c
     src/heap.h src/helpfile.c src/helpfile.h src/ioset.c
     src/ioset.h src/log.h src/main.c src/mod-helpserv.c
     src/mod-memoserv.c src/mod-snoop.c src/modcmd.c src/modcmd.h
     src/modules.c src/modules.h src/nickserv.c src/nickserv.h
     src/nickserv.help src/opserv.c src/opserv.h src/opserv.help
     src/policer.c src/policer.h src/proto-bahamut.c
     src/proto-common.c src/proto-p10.c src/proto.h src/recdb.c
     src/recdb.h src/saxdb.c src/saxdb.h src/saxdb.help
     src/sendmail.c src/sendmail.h src/timeq.c src/timeq.h
     src/tools.c srvx.conf.example tests/nickserv.cmd tests/p10.cmd
     tests/test-driver.pl tests/test.cmd
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-10
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-14
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-18
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-34
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-43
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-46
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-57
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-58
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-61
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-62
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-63
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-68
     {arch}/srvx/srvx--devo/srvx--devo--1.3/srvx@srvx.net--2004-srvx/patch-log/patch-69

    modified directories:
     languages/en_UK


2004-06-16 12:23:32 GMT	adam <adam@gamesurge.net>	patch-69

    Summary:
      added modes parameter to srvx.conf to control user modes
    Revision:
      srvx--devo--1.3--patch-69

    * each service now has a 'modes' parameter in srvx.conf to specify their individual modes.. if left blank, will default to whatever 'services' modes work for your ircd.
    

    modified files:
     ChangeLog src/chanserv.c src/global.c src/mod-helpserv.c
     src/modcmd.c src/nickserv.c src/opserv.c src/proto-bahamut.c
     src/proto-p10.c src/proto.h srvx.conf.example


2004-06-08 09:24:49 GMT	adam <adam@gamesurge.net>	patch-68

    Summary:
      fixed MODE_REGISTERED bug; introduced MCP_REGISTERED 
    Revision:
      srvx--devo--1.3--patch-68

    * fixed MODE_REGISTERED bug: srvx was sending a blank mode change on channel unregistrations; we now have a srvx.conf setting that dictates whether or not to use MODE_REGISTERED (which has no corresponding letter on P10 networks!) - also, we now set MODE_REGISTERED in newly registered channels (which we werent before)
    
    * introduced MCP_REGISTERED: we now don't let channels that are registered play with the registered mode (usually +r on bahamut networks) via chanserv user-level commands (ie: !mode -r) 
    
    
    

    modified files:
     ChangeLog src/chanserv.c src/proto-bahamut.c src/proto.h
     srvx.conf.example


2004-05-22 04:24:57 GMT	Michael Poole <mdpoole@troilus.org>	patch-67

    Summary:
      Add fake host support (assuming your ircd supports it)
    Revision:
      srvx--devo--1.3--patch-67

    Add definitions in various places to support assigning fake hosts to
    users.  We will not give you (or make for you) patches to make your
    ircd support this feature, so please do not ask.  You must set a
    certain srvx.conf setting to be able to assign fakehosts; finding it
    is left as an exercise to the reader.

    modified files:
     ChangeLog src/chanserv.c src/hash.c src/hash.h src/log.c
     src/nickserv.c src/nickserv.h src/opserv.c src/proto-bahamut.c
     src/proto-common.c src/proto-p10.c src/proto.h src/tools.c


2004-05-22 03:00:05 GMT	Michael Poole <mdpoole@troilus.org>	patch-66

    Summary:
      Remove obsolete check for src/srvx directory
    Revision:
      srvx--devo--1.3--patch-66

    Since srvx is in arch, and arch doesn't have CVS's eccentricities
    about old directories, remove the test for src/srvx being a directory.

    modified files:
     ChangeLog autogen.sh


2004-05-21 12:58:18 GMT	Michael Poole <mdpoole@troilus.org>	patch-65

    Summary:
      Fix memory leak in ?accounts
    Revision:
      srvx--devo--1.3--patch-65

    Fix a memory leak in ?accounts.

    modified files:
     ChangeLog src/nickserv.c


2004-05-21 12:38:39 GMT	Michael Poole <mdpoole@troilus.org>	patch-64

    Summary:
      Fix helpserv whine when helpers leave the channel; fix ?devoiceall
    Revision:
      srvx--devo--1.3--patch-64

    Remove the parting modeNode before making callbacks, so callbacks
    don't get confused and think the user is still in the channel.
    
    In ?devoiceall, OpServ should only remove voice from users who have it.

    modified files:
     ChangeLog src/hash.c src/opserv.c


2004-05-17 09:44:35 GMT	adam <adam@gamesurge.net>	patch-63

    Summary:
      fix minor EnfModes bug in chanserv.c 
    Revision:
      srvx--devo--1.3--patch-63

    * address bug id #955105; minor EnfModes issue
    

    modified files:
     ChangeLog src/chanserv.c


2004-05-14 06:27:30 GMT	adam <adam@gamesurge.net>	patch-62

    Summary:
      fix stupid typo from --patch-61
    Revision:
      srvx--devo--1.3--patch-62

    * fix stupid typo in nickserv.c from --patch-61; sigh.
    

    modified files:
     ChangeLog src/nickserv.c


2004-05-14 05:37:38 GMT	adam <adam@gamesurge.net>	patch-61

    Summary:
      rearrange chanserv-level ban/kick messages; change wording on authentication cookie email, implement old tried2reg patch 
    Revision:
      srvx--devo--1.3--patch-61

    * chanserv ban/kick messages are now displayed as "(name) message" as opposed to what they were, which was "message (name)"; this was done to remove irregularity with how it was in some parts of the code.
    
    * at semi-popular request, wording in initial registration emails has been changed to explain that COOKIE should not be used more than once
    
    * implemented old 'tried2reg' patch - you may only use /msg authserv register once per session (this was not the case before, which was apparent with email registrations)
    

    removed files:
     patches/.arch-ids/ns_tried2reg102403.diff.id
     patches/ns_tried2reg102403.diff

    modified files:
     ChangeLog src/chanserv.c src/hash.h src/nickserv.c
     src/opserv.c


2004-05-09 03:05:48 GMT	Michael Poole <mdpoole@troilus.org>	patch-60

    Summary:
      Fix several bugs; make off-channel a per-channel option
    Revision:
      srvx--devo--1.3--patch-60

    * Add per-channel option (!set offchannel) for off-channel services
    support.
    
    * Rename REGISTERED_MODE to MODE_REGISTERED and always use it.
    
    * Delete remaining (registered) channels on exit.
    
    * Fix tests in proto-p10.c for chanop-ness when using off-channel
    services support.

    modified files:
     ChangeLog src/chanserv.c src/chanserv.h src/hash.c src/hash.h
     src/nickserv.c src/proto-bahamut.c src/proto-common.c
     src/proto-p10.c src/proto.h srvx.conf.example


2004-05-07 14:32:06 GMT	Michael Poole <mdpoole@troilus.org>	patch-59

    Summary:
      allow daemon mode under cygwin
    Revision:
      srvx--devo--1.3--patch-59

    * Remove code to disable daemon mode in Cygwin, since Cygwin now
    properly implements fork() etc.

    modified files:
     ChangeLog src/main.c


2004-05-06 09:46:38 GMT	adam <adam@gamesurge.net>	patch-58

    Summary:
      basic off-channel support; restructuring how part functions are handled 
    Revision:
      srvx--devo--1.3--patch-58

    * added srvx.conf setting to allow chanserv to work being outside of a channel; if you'd like to have srvx set a mode as it joins, edit REGISTERED_MODE in hash.h. this will not work properly on P10 networks - though it may be nice for bahamut-based networks. either way, please do not ask us for assistance. 
    
    * changed the way part functions are called - a modeNode is now passed, and they are run *before* the user's membership link in that channel is nuked.
    
    

    modified files:
     ChangeLog src/chanserv.c src/hash.c src/hash.h
     src/mod-helpserv.c src/mod-snoop.c src/proto-common.c
     src/proto-p10.c srvx.conf.example


2004-05-01 11:17:11 GMT	adam <akl@gamesurge.net>	patch-57

    Summary:
      introduce unreg_privmsg_func, fix minor autoinvite issue, alter account-finding on local services clients 
    Revision:
      srvx--devo--1.3--patch-57

    * introduce unreg_privmsg_func: unreg_privmsg_func()/unreg_notice_func() - both of which reverse the effect of reg_privmsg_func()/reg_notice_func()
    
    * fix minor autoinvite issue: UserAutoInvite (aka: '!uset autoinvite ..') no longer invites you to channels you weren't in if the server you are on just reconnected to the network
    
    * alter account-finding on local services clients: non +k users on the local services server are now no longer referred to as services (at least not in regard to accounts..)
    

    modified files:
     ChangeLog src/chanserv.c src/nickserv.c src/proto-common.c
     src/proto-p10.c src/proto.h srvx.conf.example


2004-04-29 01:57:00 GMT	Michael Poole <mdpoole@troilus.org>	patch-56

    Summary:
      Remove debug messages from account MERGE command; translate RECLAIM kill message
    Revision:
      srvx--devo--1.3--patch-56

    * Change the debug messages in NickServ MERGE to be more succinct and
    useful for accounting/undos.
    
    * Translate the kill message sent when reclaiming an owned nickname.

    modified files:
     ChangeLog src/nickserv.c


2004-04-29 01:51:19 GMT	Michael Poole <mdpoole@troilus.org>	patch-55

    Summary:
      Fix Bahamut assertion failure; move BURST to more "natural" place
    Revision:
      srvx--devo--1.3--patch-55

    * Fix a mod_chanmode assertion failure when using proto-bahamut.c with
    debugging enabled.
    
    * Send BURST in response to SVINFO, not SERVER, so that eventual
    timestamp adjustment is more accurate.

    modified files:
     ChangeLog src/proto-bahamut.c


2004-04-29 01:41:37 GMT	Michael Poole <mdpoole@troilus.org>	patch-54

    Summary:
      Fix !up for users below GiveVoice level; implement RFE#933634
    Revision:
      srvx--devo--1.3--patch-54

    * If users have access belowGiveVoice, do not let them use UP.
    
    * Show channel flags (suspended, autoop, etc) in MYACCESS.

    modified files:
     ChangeLog src/chanserv.c src/chanserv.help


2004-04-29 00:31:22 GMT	Michael Poole <mdpoole@troilus.org>	patch-53

    Summary:
      REALLY remove duplicate line in languages/en_UK/chanserv.help.
    Revision:
      srvx--devo--1.3--patch-53

    REALLY remove duplicate line in languages/en_UK/chanserv.help.

    modified files:
     ChangeLog languages/en_UK/chanserv.help


2004-04-28 19:55:22 GMT	Michael Poole <mdpoole@troilus.org>	patch-52

    Summary:
      Remove duplicate line in en_UK chanserv.help file
    Revision:
      srvx--devo--1.3--patch-52

    Remove a duplicate line in languages/en_UK/chanserv.help.

    modified files:
     ChangeLog


2004-04-28 19:53:40 GMT	Michael Poole <mdpoole@troilus.org>	patch-51

    Summary:
      Sanity check user infolines
    Revision:
      srvx--devo--1.3--patch-51

    * Disallow infolines longer than a configured maximum length (by
    default, 400 characters).
    
    * Disallow infolines that contain certain characters (currently
    just ^A).

    modified files:
     ChangeLog languages/de/strings.db src/chanserv.c
     srvx.conf.example


2004-04-12 03:25:03 GMT	Michael Poole <mdpoole@troilus.org>	patch-50

    Summary:
      fix compile errors on readdir()-deficient platforms
    Revision:
      srvx--devo--1.3--patch-50

    * Cygwin does not have "struct dirent.d_type".  Check for that in the
    configure script and use stat() to test for directory-ness instead.

    modified files:
     ChangeLog configure.in src/helpfile.c


2004-04-10 23:04:21 GMT	Michael Poole <mdpoole@troilus.org>	patch-49

    Summary:
      add en_UK translation by Byte
    Revision:
      srvx--devo--1.3--patch-49

    Add en_UK translation by byte.

    new files:
     languages/en_UK/.arch-ids/=id
     languages/en_UK/.arch-ids/README.id
     languages/en_UK/.arch-ids/chanserv.help.id
     languages/en_UK/.arch-ids/opserv.help.id
     languages/en_UK/.arch-ids/strings.db.id languages/en_UK/README
     languages/en_UK/chanserv.help languages/en_UK/opserv.help
     languages/en_UK/strings.db

    modified files:
     ChangeLog

    new directories:
     languages/en_UK languages/en_UK/.arch-ids


2004-04-09 22:18:21 GMT	Michael Poole <mdpoole@troilus.org>	patch-48

    Summary:
      Fix service persistence bug in patch-47
    Revision:
      srvx--devo--1.3--patch-48

    patch-47 attempted to fix a previously reported error where srvx would
    create NickServ, ChanServ, OpServ and Global even if the "nick" entry
    was omitted from srvx.conf.  This broke persistence of all service
    bots added by the modcmd.service\ add comand.  (Closes: #932566)

    modified files:
     ChangeLog src/modcmd.c


2004-04-09 20:08:58 GMT	Michael Poole <mdpoole@troilus.org>	patch-47

    Summary:
      Fix service triggers; allow service hostname configuration; fix glitches
    Revision:
      srvx--devo--1.3--patch-47

    * Improve length checking logic in ChanServ.names command.
    
    * Fix service trigger registration so that database is used in
    preference to srvx.conf and compiled-in defaults.
    
    * Allow service hostnames to be configured in srvx.conf and through
    "service add"; document this and show an example of setting the
    service description.
    
    * Fix an uninitialized value bug in OpServ.join.
    
    * Make OpServ.addtrust accept a count of 0.
    
    * Remove untranslated messages from languages/de/modcmd.help (so that
    new "service add" help is inherited).

    modified files:
     ChangeLog languages/de/modcmd.help src/chanserv.c src/global.c
     src/mod-helpserv.c src/modcmd.c src/modcmd.h src/modcmd.help
     src/nickserv.c src/opserv.c src/opserv.help
     src/proto-bahamut.c src/proto-p10.c src/proto.h
     srvx.conf.example


2004-04-09 01:57:12 GMT	adam <akl@gamesurge.net>	patch-46

    Summary:
      changes to !uset autoinvite behavior, introduction of allchanmsg_func hooks 
    Revision:
      srvx--devo--1.3--patch-46

    * changes to !uset autoinvite behavior: the autoinvite flag now works whether or not the channel it is set in is +i/+k.
    
    * introduction of allchanmsg_func hooks: there is now a set of hooks (available via reg_allchanmsg_func()) in place to catch all public channel messages the services server sees.
    

    modified files:
     ChangeLog src/chanserv.c src/chanserv.help src/proto-common.c
     src/proto.h


2004-04-08 03:42:49 GMT	Michael Poole <mdpoole@troilus.org>	patch-45

    Summary:
      Fix automatic ChangeLog tag (I hope)
    Revision:
      srvx--devo--1.3--patch-45

    * Try to set the ChangeLog file tag correctly for it to be updated on
    commit.

    new files:
     .arch-ids/ChangeLog.id ChangeLog

    removed files:
     .arch-ids/ChangeLog.id ChangeLog


2004-04-08 03:18:41 GMT	Michael Poole <mdpoole@troilus.org>	patch-44

    Summary:
      Fix some signed/unsigned misbehaviors; add FAQ
    Revision:
      srvx--devo--1.3--patch-44

    * Change format and variable types to unsigned so as to avoid
    confusing negative numbers with very large positive numbers.
    
    * Create a FAQ file

    new files:
     .arch-ids/FAQ.id FAQ

    modified files:
     ChangeLog src/chanserv.c src/chanserv.help src/nickserv.c
     src/opserv.c src/proto-common.c


2004-04-04 21:37:36 GMT	Zoot <zoot@gamesnet.net>	patch-43

    Summary:
      Fix spurious user protection notices
    Revision:
      srvx--devo--1.3--patch-43

    * Fix ChanServ warning users when they remove a ban set on a protected
      user's hostmask.

    modified files:
     src/chanserv.c


2004-04-03 03:26:43 GMT	Michael Poole <mdpoole@troilus.org>	patch-42

    Summary:
      I18N fixes and (hopefully) protocol fixes
    Revision:
      srvx--devo--1.3--patch-42

    * Correct some grammar in German translation (extraneous "vor").
    
    * Try to fix desyncs when an older channel bursts in after initial join.
    
    * Languages must be subdirectories that do not start with '.', so
      check that before applying them as a language.  Since we already
      have the language list at helpfile_finalize() time, use it instead
      of walking the "languages" directory again.
    
    * Ignore 467 response from uplink.

    modified files:
     languages/de/strings.db src/hash.c src/helpfile.c
     src/proto-p10.c


2004-04-02 18:38:19 GMT	Michael Poole <mdpoole@troilus.org>	patch-41

    Summary:
      Fix mistakes in backport of German translation
    Revision:
      srvx--devo--1.3--patch-41

    * Delete mod-serverspy.help since it is not part of this code base.
    
    * Replace /AUTHSERV with /msg $N@$s.

    removed files:
     languages/de/.arch-ids/mod-serverspy.help.id
     languages/de/mod-serverspy.help

    modified files:
     languages/de/strings.db


2004-04-02 18:34:40 GMT	Michael Poole <mdpoole@troilus.org>	patch-40

    Summary:
      Add German translation
    Revision:
      srvx--devo--1.3--patch-40

    * Fix a format string bug in nickserv.c:NSEMAIL_ALLOWAUTH_BODY.
    
    * Use a separate key name for !netinfo's "Total User Count" so
      other languages can get proper alignment for both that and
      !info #channel.
    
    * Add German language translation by Marc 'feigling' Kührer.

    new files:
     languages/.arch-ids/.arch-inventory.id languages/.arch-ids/=id
     languages/.arch-ids/validate.pl.id languages/.arch-inventory
     languages/de/.arch-ids/=id languages/de/.arch-ids/README.id
     languages/de/.arch-ids/chanserv.help.id
     languages/de/.arch-ids/global.help.id
     languages/de/.arch-ids/mod-serverspy.help.id
     languages/de/.arch-ids/modcmd.help.id
     languages/de/.arch-ids/nickserv.help.id
     languages/de/.arch-ids/strings.db.id languages/de/README
     languages/de/chanserv.help languages/de/global.help
     languages/de/mod-serverspy.help languages/de/modcmd.help
     languages/de/nickserv.help languages/de/strings.db
     languages/en/.arch-ids/=id languages/en/.arch-ids/README.id
     languages/en/README languages/validate.pl

    modified files:
     src/chanserv.c src/nickserv.c

    new directories:
     languages languages/.arch-ids languages/de
     languages/de/.arch-ids languages/en languages/en/.arch-ids


2004-03-30 04:40:38 GMT	Michael Poole <mdpoole@troilus.org>	patch-39

    Summary:
      translate interval strings; translate more NickServ messages
    Revision:
      srvx--devo--1.3--patch-39

    * Translate interval strings to the user's language.
    
    * Translate cookie emails and auth failure messages based on the
    account's preferred language, rather than the user's preferred
    language (they will not be authed, so they would get lang_C).

    modified files:
     src/chanserv.c src/common.h src/global.c src/main.c
     src/mod-helpserv.c src/mod-memoserv.c src/mod-sockcheck.c
     src/nickserv.c src/opserv.c src/saxdb.c src/tools.c


2004-03-30 04:25:14 GMT	Michael Poole <mdpoole@troilus.org>	patch-38

    Summary:
      Fix uninitialized mod_chanmode element in debug build
    Revision:
      srvx--devo--1.3--patch-38

    * Convert an old-style auto-variable mod_chanmode to use
    mod_chanmode_init() so that all fields are initialized.

    modified files:
     src/proto-common.c


2004-03-30 04:11:03 GMT	Michael Poole <mdpoole@troilus.org>	patch-37

    Summary:
      Multi-language support fixes
    Revision:
      srvx--devo--1.3--patch-37

    * Copy keys in per-language message tables so that they don't point to
    free()d memory.
    
    * Only warn about missing/extra messages if there are any.
    
    * In language_read_list(), do not allocate languages "." or "..".

    modified files:
     src/helpfile.c


2004-03-29 21:10:10 GMT	Michael Poole <mdpoole@troilus.org>	patch-36

    Summary:
      automatic arch-version.h update; CTCP support; helpfile fixes; disk-out-of-space error detection and handling
    Revision:
      srvx--devo--1.3--patch-36

    * Add a rule to automatically check arch version and update
    arch-version.h when needed
    
    * Implement CTCP response handling messages direct to services.
    
    * Fix grammar error in GIVEOWNERSHIP help entry, fix cross-reference
    markup in several ChanServ commands (should underline, not bold, the
    "See Also:" link), remove VERSION help entries from modules that no
    longer implement that command.
    
    * Check for errors (using setjmp/longjmp) when writing to a saxdb
    file, and log the failures.

    modified files:
     src/Makefile.am src/chanserv.help src/global.help
     src/mod-helpserv.c src/mod-memoserv.help src/modcmd.c
     src/opserv.help src/proto-bahamut.c src/proto-p10.c
     src/proto.h src/saxdb.c src/saxdb.h src/tools.c


2004-03-28 03:28:18 GMT	Michael Poole <mdpoole@troilus.org>	patch-35

    Summary:
      More helpfile fixes
    Revision:
      srvx--devo--1.3--patch-35

    * Allow a helpfile to use another module's expansion function by using
    the syntax ${module:variable}, so that "set language" can be kept in
    nickserv.help.
    
    * Fix typos, unclear help entries, and add some missing entries.

    modified files:
     src/chanserv.help src/helpfile.c src/modcmd.help
     src/nickserv.help src/proto-bahamut.c src/proto-p10.c


2004-03-25 23:17:04 GMT	Zoot <zoot@gamesnet.net>	patch-34

    Summary:
      Documentation update
    Revision:
      srvx--devo--1.3--patch-34

    * Make some further updates to INSTALL to bring it in line with srvx 1.3

    modified files:
     INSTALL


2004-03-25 21:41:17 GMT	Michael Poole <mdpoole@troilus.org>	patch-33

    Summary:
      Message and documentation cleanups
    Revision:
      srvx--devo--1.3--patch-33

    * Update version number in INSTALL and mention where we do most of
    srvx's testing.
    
    * Move the message about using the authcookie to inside of
    nickserv_make_cookie(), so that when another cookie exists, only the
    "cookie already pending" message is sent.
    
    * Fix various typos, extraneous sentences, and misplaced command
    listings in nickserv.help.
    
    * Remove (unused) fakehost options from srvx.conf.example and update
    ChanServ's set_shows option.

    modified files:
     INSTALL src/nickserv.c src/nickserv.help srvx.conf.example


2004-03-24 20:32:16 GMT	Michael Poole <mdpoole@troilus.org>	patch-32

    Summary:
      Infinite recursion fix; mod_chanmode_parse() fixes
    Revision:
      srvx--devo--1.3--patch-32

    * Default lang->parent to lang_C rather than language_find("C"), so
    that trying to create language "C" does not cause infinite recursion.
    
    * Fail when we try to parse a mode with an unrecognized mode character
    from users; ignore them coming from a server.

    modified files:
     src/helpfile.c src/proto-bahamut.c src/proto-p10.c


2004-03-23 00:12:53 GMT	Michael Poole <mdpoole@troilus.org>	patch-31

    Summary:
      i18n fixes
    Revision:
      srvx--devo--1.3--patch-31

    * Fix typos in several message strings, and clarify others.
    
    * Typecast first argument of gethostbyaddr() to quash warnings.
    
    * Load languages in finalization, not initialization, and do not crash
    when running off the end of a localized strings.db file.
    
    * Show the LANGUAGE option in NickServ SET response.
    
    * Remove mention of GHOST command when !enable_ghost.
    
    * Only initialize alloc_argc when !defined(NDEBUG)

    modified files:
     src/chanserv.c src/gline.c src/helpfile.c src/helpfile.h
     src/main.c src/modcmd.c src/nickserv.c src/nickserv.help
     src/proto-common.c


2004-03-19 14:46:53 GMT	Michael Poole <mdpoole@troilus.org>	patch-30

    Summary:
      Fix language initialization bug; fix email change text
    Revision:
      srvx--devo--1.3--patch-30

    * Initialize each new account's language when registering it.
    
    * Send the first half of the email change cookie to the old address,
    rather than sending the second half (which also goes to the new
    address).

    modified files:
     src/modcmd.c src/nickserv.c


2004-03-17 04:27:17 GMT	Michael Poole <mdpoole+arch@troilus.org>	patch-29

    Summary:
      ChanServ seen fixes; other cleanups
    Revision:
      srvx--devo--1.3--patch-29

    * Remove rule to generate the unused EXTRA_MODULES preprocessor macro.
    
    * Properly adjust ChanServ seen time when a user leaves or is kicked
    from a channel.
    
    * Read languages from disk before initializing the core services,
    since they must all be available when loading accounts.
    
    * Fix a typo in the log BNF documentation, and add =SEVLIT support for
    consistency.
    
    * Add missing "invalid" to NSMSG_INVALID_ANNOUNCE string.

    modified files:
     configure.in src/chanserv.c src/helpfile.c src/helpfile.h
     src/log.c src/main.c src/nickserv.c


2004-03-12 00:27:29 GMT	Entrope <entrope@clan-dk.org>	patch-28

    Summary:
      fix channel mode bouncing bugs
    Revision:
      srvx--devo--1.3--patch-28

    * Make mod_chanmode_dup() copy the limit and key like one might expect.
    
    * Make ChanServ's handle_mode() copy the default modes using
    mod_chanmode_dup() instead of an implicit memcpy.

    modified files:
     src/chanserv.c src/proto-common.c


2004-03-11 16:44:35 GMT	Entrope <entrope@clan-dk.org>	patch-27

    Summary:
      Fix !resync; helpfile updates; improve ?modcmd
    Revision:
      srvx--devo--1.3--patch-27

    * Make ChanServ.RESYNC op (or voice) users when GiveOps (GiveVoice,
    respectively) is 0 and the user is not on the userlist.
    
    * Remove mention of PEONINVITE from chanserv.help.
    
    * Mention the GIVEOWNERSHIP command in HelpServ's help file; remove
    mention of the removed VERSION and WRITE commands.
    
    * Make modcmd.MODCMD accept no options, and display the (final)
    settings for the command.  Update the help entry for it.

    modified files:
     src/chanserv.c src/chanserv.help src/mod-helpserv.help
     src/modcmd.c src/modcmd.help


2004-03-10 19:04:59 GMT	Entrope <entrope@clan-dk.org>	patch-26

    Summary:
      License update
    Revision:
      srvx--devo--1.3--patch-26

    * Revert to plain GPLv2.

    modified files:
     COPYING src/chanserv.c src/chanserv.h src/common.h src/conf.c
     src/conf.h src/dict-splay.c src/dict.h src/gline.c src/gline.h
     src/global.c src/global.h src/hash.c src/hash.h src/heap.c
     src/heap.h src/helpfile.c src/helpfile.h src/ioset.c
     src/ioset.h src/log.c src/log.h src/main.c src/mod-helpserv.c
     src/mod-memoserv.c src/mod-snoop.c src/mod-sockcheck.c
     src/modcmd.c src/modcmd.h src/modules.c src/modules.h
     src/nickserv.c src/nickserv.h src/opserv.c src/opserv.h
     src/policer.c src/policer.h src/proto-bahamut.c
     src/proto-common.c src/proto-p10.c src/proto.h src/recdb.c
     src/recdb.h src/saxdb.c src/saxdb.h src/sendmail.c
     src/sendmail.h src/timeq.c src/timeq.h src/tools.c


2004-03-10 17:03:30 GMT	Entrope <entrope@clan-dk.org>	patch-25

    Summary:
      Further cleanups and bugfixes
    Revision:
      srvx--devo--1.3--patch-25

    * Remove "TODO: reimplement" comment in chanserv.c, since all the
    functions were already reimplemented.
    
    * Make "/msg ChanServ huggle" work again.
    
    * Fix error messages when bad target names given to say and emote.
    
    * If we get a MODE change affecting a user who somehow quit already,
    just ignore it.
    
    * Add debugging checks for mod_chanmode argument counts.

    modified files:
     src/chanserv.c src/hash.c src/main.c src/mod-helpserv.c
     src/mod-snoop.c src/proto-bahamut.c src/proto-common.c
     src/proto-p10.c src/proto.h


2004-03-08 17:41:48 GMT	Entrope <entrope@clan-dk.org>	patch-24

    Summary:
      bug fixes (from code coverage tests)
    Revision:
      srvx--devo--1.3--patch-24

    * Fix typo in CSMSG_ADDED_USER message.
    
    * Fix memory leak in !bans when no bans are shown.
    
    * Fix SAY, EMOTE to user targets.
    
    * Require unsuspended channel for OPCHAN (i.e. ChanServ is in-channel).
    
    * Fix typo in TOPICSNARF help description.
    
    * Fix mod_chanmode argc when reopping services.
    
    * Fix memory leak when rehashing with with an uplink bind address.
    
    * Fix typo in OSMSG_NICK_UNRESERVED message.
    
    * Make *OpServ.op actually op non-ops, instead of just ops.
    
    * Fix kick message translations when shutting down a channel.
    
    * Fix use-after-free if an oper does ?part #badchan.
    
    * Make mod_chanmode_apply() more sensitive to invalid mode changes.
    
    * In create_helper(), let AddChannelUser() decide whether to op the user.
    
    * Remove "Mod" and "Game" from "set_shows" in srvx.conf.example.
    
    * Do not print the status "." in tests when full debug mode is on.

    modified files:
     src/chanserv.c src/chanserv.help src/hash.c src/helpfile.c
     src/main.c src/opserv.c src/proto-common.c src/proto-p10.c
     srvx.conf.example tests/test-driver.pl


2004-03-04 04:48:35 GMT	Entrope <entrope@clan-dk.org>	patch-23

    Summary:
      Bug fixes and cleanups
    Revision:
      srvx--devo--1.3--patch-23

    * Remove unused src/expnhelp.c file.
    
    * Do not call mod_chanmode_announce() if we give a user neither voice
    nor ops (it causes an assertion failure).
    
    * Make switch() on mod_chanmode argument modes a little clearer.
    
    * Add OSMSG_NICK_UNRESERVED format string.
    
    * Translate weekly statistics report headers for HelpServ.

    removed files:
     src/.arch-ids/expnhelp.c.id src/expnhelp.c

    modified files:
     src/chanserv.c src/mod-helpserv.c src/opserv.c


2004-03-03 01:47:41 GMT	Entrope <entrope@clan-dk.org>	patch-22

    Summary:
      Various bug fixes
    Revision:
      srvx--devo--1.3--patch-22

    * In ?kickbanall, mod_chanmode_alloc(1) when we only use one arg.
    
    * In ?modcmd ... channel_access, accept "0" to mean the same as "none."
    
    * In log.c, make a single function to free the oldest log entry for a
    log_type struct.
    
    * Add more checks for cmd==NULL in chanserv.c:eject_user().

    modified files:
     src/chanserv.c src/log.c src/modcmd.c src/opserv.c


2004-03-02 18:21:59 GMT	Entrope <entrope@clan-dk.org>	patch-21

    Summary:
      Add MYACCESS command; fix reference count bug in MOVE
    Revision:
      srvx--devo--1.3--patch-21

    * Always LockChannel(target) when moving a registered channel.
    
    * Move the self-access list function from ACCESS to MYACCESS, so that
    ACCESS can be marked with MODCMD_REQUIRE_CHANUSER.
    
    * Update documentation for MYACCESS vs ACCESS.

    modified files:
     src/chanserv.c src/chanserv.help


2004-03-02 04:35:35 GMT	Entrope <entrope@clan-dk.org>	patch-20

    Summary:
      Fix NickServ language crash; convert four ChanServ binary options to level options
    Revision:
      srvx--devo--1.3--patch-20

    * When you use "/msg nickserv set language" and you have no language
    assigned, it would crash.  Fix this.
    
    * Convert four ChanServ binary options to level based options:
      * Voice (CHANNEL_VOICE_ALL) -> Voice (lvlGiveVoice)
      * UserInfo (CHANNEL_INFO_LINES) -> UserInfo (lvlUserInfo)
      * PeonInvite (CHANNEL_PEON_INVITE) -> InviteMe (lvlInviteMe)
      * TopicSnarf (CHANNEL_TOPIC_SNARF) -> TopicSnarf (lvlTopicSnarf)
    
    * Document the changes in ChanServ options.

    modified files:
     src/chanserv.c src/chanserv.h src/chanserv.help src/nickserv.c


2004-03-01 16:23:51 GMT	Entrope <entrope@clan-dk.org>	patch-19

    Summary:
      giveownership fix; handle_join +ov "fix"; revert OSMSG_FLOOD_MODERATE
    Revision:
      srvx--devo--1.3--patch-19

    * Fix !giveownership by staff.
    
    * If ChanServ gives ops to someone onjoin, do not also give them voice.
    
    * Translate OSMSG_FLOOD_MODERATE according to the channel options
    (well, hopefully in the future we will support that) rather than the
    join-flooding user's options.

    modified files:
     src/chanserv.c src/opserv.c


2004-03-01 09:54:10 GMT	Adam Loghry <adam@gamesurge.net>	patch-18

    Summary:
      no error on inexistent commands done publicly, announcements setting display fix, two opserv chaninfo fixes, OSMSG_FLOOD_MODERATE now works when sent to channels, and hostmask lastquit searches
    Revision:
      srvx--devo--1.3--patch-18


    modified files:
     src/modcmd.c src/nickserv.c src/nickserv.help src/opserv.c


2004-03-01 02:44:25 GMT	Entrope <entrope@clan-dk.org>	patch-17

    Summary:
      Minor fixes and improvements
    Revision:
      srvx--devo--1.3--patch-17

    * Fix implementation of privileged-setter note types (it ignored the
    OpServ access level before).
    
    * Show proper message when an account's announcements are disabled.
    
    * Translate OSMSG_FLOOD_MODERATE when sending it to a channel.

    modified files:
     src/chanserv.c src/nickserv.c src/opserv.c


2004-02-29 21:58:29 GMT	Entrope <entrope@clan-dk.org>	patch-16

    Summary:
      Fix possible crash in chanserv.c:handle_kick()
    Revision:
      srvx--devo--1.3--patch-16

    * Delay looking up translation for CSMSG_USER_PROTECTED until we know
    the kicker actually exists (if a server does the KICK, kicker==NULL).

    modified files:
     src/chanserv.c


2004-02-29 14:47:51 GMT	Entrope <entrope@clan-dk.org>	patch-15

    Summary:
      Update .arch-inventory for in-tree builds; remove --disable-lame-tricks
    Revision:
      srvx--devo--1.3--patch-15

    * Switch to using "backup" in .arch-inventory for generated sources
    and objects, since that is more accurate than "precious."
    
    * Add normal build output to .arch-inventory so normal builds do not
    cause tree-lint failures (e.g. during "tla update" - bad!).
    
    * Remove the "lame-tricks" option from configure.in since it was not
    used anyway.

    modified files:
     .arch-inventory configure.in rx/.arch-inventory
     src/.arch-inventory


2004-02-29 08:07:37 GMT	Zoot <zoot@gamesnet.net>	patch-14

    Summary:
      Limit mode parameter count.
    Revision:
      srvx--devo--1.3--patch-14

    Restrict the number of mode parameters sent by the P10 protocol
    backend to MAXMODEPARAMS.

    modified files:
     src/proto-p10.c


2004-02-29 03:40:25 GMT	Entrope <entrope@clan-dk.org>	patch-13

    Summary:
      Privileged service fixes
    Revision:
      srvx--devo--1.3--patch-13

    * Allow runtime control of privileged services.
    
    * Make all oper commands default to having flags +oper.
    
    * Add a "privileged" directive for OpServ in srvx.conf.example.

    modified files:
     src/helpfile.c src/modcmd.c src/opserv.c srvx.conf.example


2004-02-28 21:33:30 GMT	Entrope <entrope@clan-dk.org>	patch-12

    Summary:
      more bug fixes from GameSurge
    Revision:
      srvx--devo--1.3--patch-12

    * Refuse to let an owner !set setters 501.
    
    * Report proper level range when using !trim users <duration>.
    
    * Refuse to let anyone !set <numericoption> 502, etc.
    
    * Refuse to let people below owner level !set <numericoption> above
    their level.
    
    * Make !d 1d6+5 work.
    
    * Mark users as seen/present AFTER deciding whether to show their
    infoline, and PRIVMSG infolines rather than NOTICE them.
    
    * Translate "CSMSG_USER_PROTECTED" (kick protection enforcement
    message).
    
    * Enforce plain mode changes, not just ops/deops/bans etc.
    
    * Fix documentation for ChanServ UNREGISTER command.

    modified files:
     src/chanserv.c src/chanserv.help


2004-02-28 19:08:13 GMT	Entrope <entrope@clan-dk.org>	patch-11

    Summary:
      Fix bugs found on GameSurge
    Revision:
      srvx--devo--1.3--patch-11

    * Remove unused ARCH_REVISION macro in Makefile.am
    
    * Fix !trim <userlevel> <duration> (so it does not trim ALL users)
    
    * Properly allow owners to set levels to 501
    
    * Set "deopped" when we deop the person who changed modes
    
    * Mark the first user in a channel as a chanop (fixes a spurious
      HACK(4) for newly registered channels).
    
    * Document user level ranges for the TRIM command.
    
    * Document user-level-based SET options as being such (rather than
    being multiple-choice options).

    modified files:
     src/Makefile.am src/chanserv.c src/chanserv.help src/hash.c


2004-02-28 18:46:03 GMT	Zoot <zoot@gamesnet.net>	patch-10

    Summary:
      reply correctly to bad bans
    Revision:
      srvx--devo--1.3--patch-10

    Send the correct ban being bounced.

    modified files:
     src/chanserv.c


2004-02-28 04:31:12 GMT	Entrope <entrope@clan-dk.org>	patch-9

    Summary:
      put back Make rule for arch-version.h
    Revision:
      srvx--devo--1.3--patch-9

    * Reinstate the rule to create arch-version.h, which I accidentally
    deleted in the last commit

    modified files:
     src/Makefile.am


2004-02-28 00:29:08 GMT	Entrope <entrope@clan-dk.org>	patch-8

    Summary:
      runtime helpfile splicing
    Revision:
      srvx--devo--1.3--patch-8

    * Add a miniature parser to the helpfile reader, allowing
    nickserv.help's subsections to be selected at runtime.
    
    * Move nickserv.help.m4 to nickserv.help and rewrite the
    selection code to use the above.

    modified files:
     Makefile.am TODO src/Makefile.am src/helpfile.c
     src/nickserv.help

    renamed files:
     src/.arch-ids/nickserv.help.m4.id
       ==> src/.arch-ids/nickserv.help.id
     src/nickserv.help.m4
       ==> src/nickserv.help


2004-02-27 16:31:57 GMT	Entrope <entrope@clan-dk.org>	patch-7

    Summary:
      fix userlist presence tracking; "version" command on all services
    Revision:
      srvx--devo--1.3--patch-7

    * Change scan_handle_presence() to scan_user_presence(), since we always
      have the userData* at the caller site.
    
    * Make handle_auth() respect user suspensions.
    
    * In handle_part(), let scan_user_presence() update "seen" time.
    
    * Make ChanServ adduser command take arguments in the "expected" order
      ("!adduser target level", not "!adduser level target")
    
    * Add the "version" command to all built-in services

    modified files:
     TODO src/chanserv.c src/chanserv.help src/modcmd.c


2004-02-25 04:06:30 GMT	Entrope <entrope@clan-dk.org>	patch-6

    Summary:
      ChanServ, OpServ and main.c bug fixes
    Revision:
      srvx--devo--1.3--patch-6

    * Read new-style channel flags from the correct field, and do not make
    ChanServ rejoin channels that are still suspended
    
    * Allow service nicknames to be omitted from srvx.conf (again)
    
    * Construct "opserv" bot earlier so that database read works correctly

    modified files:
     src/chanserv.c src/main.c src/opserv.c


2004-02-24 03:55:22 GMT	Entrope <entrope@clan-dk.org>	patch-5

    Summary:
      fix TODO list, services without "description" fields
    Revision:
      srvx--devo--1.3--patch-5

    Remove items in the TODO list that have been done
    
    Restore the ability to use a default description for services when a
    "nick" but no "description" is present in srvx.conf

    modified files:
     TODO src/chanserv.c src/global.c src/main.c src/nickserv.c
     src/opserv.c


2004-02-20 19:29:46 GMT	Entrope <entrope@clan-dk.org>	patch-4

    Summary:
      Fix zoot style [wcmop]list; tweak events access
    Revision:
      srvx--devo--1.3--patch-4

    Use proper lower bound for zoot style user-level lists.
    
    Change default "events" access to 350.

    modified files:
     src/chanserv.c


2004-02-19 22:36:42 GMT	Entrope <entrope@clan-dk.org>	patch-3

    Summary:
      cleanups and fixes
    Revision:
      srvx--devo--1.3--patch-3

    Fix the response when trying to set an option to an invalid access level.
    
    Put accurate headers on zoot_list !users output.
    
    Reduce default addban/addtimedban/delban access levels to 250.
    
    Add advertising/support plug for #srvx.
    
    Handle (but report) IRC socket connection errors.

    modified files:
     src/chanserv.c src/hash.c src/modcmd.c tests/test-driver.pl


2004-02-18 00:18:30 GMT	Entrope <entrope@clan-dk.org>	patch-2

    Summary:
      Support topic bursts; fix topic display in CHANINFO command
    Revision:
      srvx--devo--1.3--patch-2

    When we wipe out an older channel on our end, clear its topic.
    
    Fix the message send function used by CHANINFO.
    
    When we get a P10 T message, check for the extra fields added in Asuka.

    modified files:
     src/hash.c src/opserv.c src/proto-p10.c


2004-02-17 22:02:03 GMT	Entrope <entrope@clan-dk.org>	patch-1

    Summary:
      Indenting cleanups, +sp fix, PING fix
    Revision:
      srvx--devo--1.3--patch-1

    Add explicit copyright notice to VERSION command
    When receiving a PING, respond using numnick instead of readable name
    Indenting fixes
    Remove out-of-date references to GamesNET

    new files:
     .arch-ids/.cvsignore.id .cvsignore
     docs/.arch-ids/.cvsignore.id docs/.cvsignore
     patches/.arch-ids/.cvsignore.id patches/.cvsignore
     rx/.arch-ids/.arch-inventory.id rx/.arch-ids/.cvsignore.id
     rx/.arch-inventory rx/.cvsignore src/.arch-ids/.cvsignore.id
     src/.cvsignore tests/.arch-ids/.cvsignore.id tests/.cvsignore

    modified files:
     .arch-inventory AUTHORS docs/.arch-inventory
     docs/access-levels.txt patches/.arch-inventory
     sockcheck.conf.example src/.arch-inventory src/chanserv.help
     src/ioset.c src/modcmd.c src/proto-bahamut.c src/proto-p10.c
     src/tools.c tests/.arch-inventory


2004-02-11 04:12:26 GMT	Entrope <entrope@clan-dk.org>	base-0

    Summary:
      Initial import (again)
    Revision:
      srvx--devo--1.3--base-0

    Initial import of srvx-1.3 code.

    new files:
     AUTHORS COPYING ChangeLog INSTALL Makefile.am NEWS README TODO
     autogen.sh compile config.guess config.sub configure.in
     depcomp docs/access-levels.txt docs/coding-style.txt
     docs/cookies.txt docs/helpserv.txt docs/ircd-modes.txt
     docs/malloc-compare.txt install-sh ltmain.sh missing
     mkinstalldirs patches/asuka-sethost.diff
     patches/helpserv-pgsql.diff patches/helpserv-pgsql.txt
     patches/log-pgsql.diff patches/log-pgsql.txt
     patches/ns_reclaim-flag102403.diff
     patches/ns_tried2reg102403.diff patches/srvx-bantypes.diff
     patches/srvx-successor.diff rx/COPYING.LIB rx/ChangeLog
     rx/Makefile.am rx/Makefile.in rx/_rx.h rx/compile rx/depcomp
     rx/hashrexp.c rx/inst-rxposix.h rx/rx.c rx/rx.h rx/rxall.h
     rx/rxanal.c rx/rxanal.h rx/rxbasic.c rx/rxbasic.h
     rx/rxbitset.c rx/rxbitset.h rx/rxcontext.h rx/rxcset.c
     rx/rxcset.h rx/rxdbug.c rx/rxgnucomp.c rx/rxgnucomp.h
     rx/rxhash.c rx/rxhash.h rx/rxnfa.c rx/rxnfa.h rx/rxnode.c
     rx/rxnode.h rx/rxposix.c rx/rxposix.h rx/rxproto.h rx/rxsimp.c
     rx/rxsimp.h rx/rxspencer.c rx/rxspencer.h rx/rxstr.c
     rx/rxstr.h rx/rxsuper.c rx/rxsuper.h rx/rxunfa.c rx/rxunfa.h
     sockcheck.conf.example src/Makefile.am src/chanserv.c
     src/chanserv.h src/chanserv.help src/checkdb.c src/common.h
     src/compat.c src/compat.h src/conf.c src/conf.h
     src/dict-splay.c src/dict.h src/expnhelp.c src/getopt.c
     src/getopt.h src/getopt1.c src/gline.c src/gline.h
     src/global.c src/global.h src/global.help src/globtest.c
     src/hash.c src/hash.h src/heap.c src/heap.h src/helpfile.c
     src/helpfile.h src/ioset.c src/ioset.h src/log.c src/log.h
     src/main.c src/md5.c src/md5.h src/mod-helpserv.c
     src/mod-helpserv.help src/mod-memoserv.c src/mod-memoserv.help
     src/mod-snoop.c src/mod-sockcheck.c src/mod-sockcheck.help
     src/modcmd.c src/modcmd.h src/modcmd.help src/modules.c
     src/modules.h src/nickserv.c src/nickserv.h
     src/nickserv.help.m4 src/opserv.c src/opserv.h src/opserv.help
     src/policer.c src/policer.h src/proto-bahamut.c
     src/proto-common.c src/proto-p10.c src/proto.h src/recdb.c
     src/recdb.h src/saxdb.c src/saxdb.h src/saxdb.help
     src/sendmail.c src/sendmail.h src/sendmail.help src/stamp-h.in
     src/stamp-h1.in src/timeq.c src/timeq.h src/tools.c
     srvx.conf.example stamp-h2.in tests/coverage-2.cmd
     tests/coverage.cmd tests/coverage.txt tests/ircd.conf
     tests/ircd.motd tests/nickserv.cmd tests/p10.cmd
     tests/srvx.conf tests/test-driver.pl tests/test.cmd


